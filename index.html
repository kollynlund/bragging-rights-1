<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">    
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link href="css/bootstrap.min.css" rel="stylesheet">
   <link href="css/mystyles.css" rel="stylesheet">
   <script src="js/bootstrap.min.js"></script>
   <script src="js/jquery.js"></script>   
   <script src="//code.jquery.com/jquery-1.10.2.js"></script>
   <title>Page Title</title>   
</head>

<body>
<div class="container">
  <div class="row">
    <div class="col-sm-4">
      <div class="panel panel-default p-top">
        <div class="panel-body">
        <p>Welcome to the worlds first interactive website for the biggest and best achievements from around the globe.
         This is not the Guinness book of world records. This is a user generated social media site to show everyone that limits put upon us by the doubters of this world. 
        </p>
      </div>
     </div>
    </div>  

    <div class="col-sm-4">
      <div class="panel panel-default p-top">
        <div class="panel-body text-center">
         <img class="img-responsive" alt="logo" src="img/logocrop.png">
        </div>
      </div>
    </div>

    <div class="col-sm-4">
      <div class="panel panel-default p-top">
       <div class="panel-body">
      <p>Discover the stories of those who have risked it all to prove to the world that the impossible actually is possible. Do you know someone who has conquered a worlds first? Add it to our ever growing library. 
      </p><button type="button" class="btn btn-default btn-md text-center">
  <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Add a World's first
</button>
    </div>
  </div>
       
    </div>  
  </div>


 <div class="navigation">
  <div class="row text-center">
    <div class="col-sm-4">
     <div class="btn-group" data-toggle="buttons">
       <label class="btn btn-default active">
       <input type="radio" name="options" id="mapview" autocomplete="off" checked> Map View</label>
       <label class="btn btn-default">
       <input type="radio" name="options" id="listview" autocomplete="off"> List View</label>
       <button></button>
     </div>
   </div>
  

  <div class="col-sm-4">
     <div class="dropdown text-center">
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          Sort Map <span class="caret"></span></button>
        <ul class="dropdown-menu text-center" role="menu">
          <li><a href="#">MOTO</a></li>
          <li><a href="#">SK8</a></li>
          <li><a href="#">SKI</a></li>
          <li><a href="#">KAYAK</a></li>
          <li><a href="#">BMX</a></li>
          <li><a href="#">FLY</a></li>
          <li><a href="#">DIVE</a></li>
          <li class="divider"></li>
        </ul>
      </div>
  </div>
      
   <div class="col-sm-4">
      <form class="search form-inline" role="search">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Search">
          <span class="input-group-btn">
        <button type="submit" class="btn btn-default">Search</button></span>
      </form>
    </div>
  </div>
</div>
</div>

      <div class="panel panel-default">
       <div class="panel-body">
        <div class="row">
          <div class="col-sm-12">
            <div id="map">
              <div id="map-container"></div>

                <script src="js/d3.v3.min.js"></script>
                <script src="js/topojson.v1.min.js"></script>
                <script>
                d3.select(window).on("resize", throttle);

                var zoom = d3.behavior.zoom()
                    .scaleExtent([1, 8])
                    .on("zoom", move);

                var width = document.getElementById('container').offsetWidth-60;
                var height = width / 2;

                var topo,projection,path,svg,g;

                var tooltip = d3.select("#container").append("div").attr("class", "tooltip hidden");

                setup(width,height);

                function setup(width,height){
                  projection = d3.geo.mercator()
                    .translate([0, 0])
                    .scale(width / 2 / Math.PI);

                  path = d3.geo.path()
                      .projection(projection);

                  svg = d3.select("#container").append("svg")
                      .attr("width", width)
                      .attr("height", height)
                      .append("g")
                      .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")")
                      .call(zoom);

                  g = svg.append("g");

                }

                d3.json("data/world-topo.json", function(error, world) {

                  var countries = topojson.feature(world, world.objects.countries).features;

                  topo = countries;
                  draw(topo);

                });

                function draw(topo) {

                  var country = g.selectAll(".country").data(topo);

                  country.enter().insert("path")
                      .attr("class", "country")
                      .attr("d", path)
                      .attr("id", function(d,i) { return d.id; })
                      .attr("title", function(d,i) { return d.properties.name; })
                      .style("fill", function(d, i) { return d.properties.color; });

                  //ofsets plus width/height of transform, plsu 20 px of padding, plus 20 extra for tooltip offset off mouse
                  var offsetL = document.getElementById('container').offsetLeft+(width/2)+40;
                  var offsetT =document.getElementById('container').offsetTop+(height/2)+20;

                  //tooltips
                  country
                    .on("mousemove", function(d,i) {
                      var mouse = d3.mouse(svg.node()).map( function(d) { return parseInt(d); } );
                        tooltip
                          .classed("hidden", false)
                          .attr("style", "left:"+(mouse[0]+offsetL)+"px;top:"+(mouse[1]+offsetT)+"px")
                          .html(d.properties.name)
                      })
                      .on("mouseout",  function(d,i) {
                        tooltip.classed("hidden", true)
                      }); 
                   
                }

                function redraw() {
                  width = document.getElementById('container').offsetWidth-60;
                  height = width / 2;
                  d3.select('svg').remove();
                  setup(width,height);
                  draw(topo);
                }

                function move() {

                  var t = d3.event.translate;
                  var s = d3.event.scale;  
                  var h = height / 3;
                  
                  t[0] = Math.min(width / 2 * (s - 1), Math.max(width / 2 * (1 - s), t[0]));
                  t[1] = Math.min(height / 2 * (s - 1) + h * s, Math.max(height / 2 * (1 - s) - h * s, t[1]));

                  zoom.translate(t);
                  g.style("stroke-width", 1 / s).attr("transform", "translate(" + t + ")scale(" + s + ")");

                }

                var throttleTimer;
                function throttle() {
                  window.clearTimeout(throttleTimer);
                    throttleTimer = window.setTimeout(function() {
                      redraw();
                    }, 200);
                }

                </script>
            </div>
          </div>
        </div>
      </div>
    </div>


      <div class="panel panel-default">
       <div class="panel-body">
        <div class="row">
          <div class="col-sm-12">
           <div id="list">
             <h1 class="text-center">List View</h1>
              <table class="rwd-table center-block">
                <tr>
                  <th>Rider</th>
                  <th>Date</th>
                  <th>Trick</th>
                  <th>Discipline</th>
                  <th>Location</th>
                </tr>
                <tr>
                  <td data-th="Rider">Gavin Godfrey</td>
                  <td data-th="Date">7-1-14</th>
                  <td data-th="Trick">Triple Backflip</td>
                  <td data-th="Discipline">MTB</td>
                  <td data-th="Location">West Valley, UT</td>
                </tr>
                <tr>
                  <td data-th="Rider">Tony Hawk</td>
                  <td data-th="Date">7-27-1999</th>
                  <td data-th="Trick">900</td>
                  <td data-th="Discipline">SK8</td>
                  <td data-th="Location">San Francisco, CA</td>
                </tr>  
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>









</div>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.js"></script>
</body>


</html>